<div class="wrapper">
  <% if @blog_post.header_image.attached? %>
    <%= image_tag @blog_post.header_image, class: 'w-full' %>
  <% end %>

  <div class="mx-4 md:mx-0">
    <div class="flex justify-end mt-2">
      <%= link_to "Edit Blog Post", edit_blog_post_path, class: 'btn btn-blue' %>
    </div>

    <h1 class="text-xl font-semibold leading-8 tracking-tight text-gray-900 mb-4">
      <%= @blog_post.title %>
    </h1>

    <div class="mb-8">
      <%= render 'shared/tags', tags: @blog_post.tags %>
    </div>

    <div class="text-justify red-links">
      <%= @blog_post.body %>
    </div>

    <div class="flex justify-center my-8">
      <%= image_tag 'avatar-transparent.png' %>
    </div>
  </div>
</div>

<script>
  document.addEventListener ('turbo:load', () => {
    document.querySelectorAll('pre').forEach( (block) => { hljs.highlightBlock(block); });
  });
</script>

<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Article",
    "headline": "<%= @blog_post.title %>",
    "description": "<%= @blog_post.description %>",
    "datePublished": "<%= @blog_post.published_at %>",
    "dateModified": "<%= @blog_post.updated_at %>",
    "image": [
      "<%= url_for(@blog_post.header_image) %>"
    ],
    "author": [
      {
        "@type": "Person",
        "name": "Rod Klingler",
        "url": "https://therealrodk.dev"
      }
    ],
    "mainEntityOfPage": {
      "@type": "webPage",
      "id": "<%= blog_post_url(@blog_post) %>"
    }
  }
</script>